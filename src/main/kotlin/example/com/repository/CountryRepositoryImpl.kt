package example.com.repository

import CountryRepository
import example.com.common.Constants.OK_MESSAGE
import example.com.models.ApiResponse
import example.com.models.Country

class CountryRepositoryImpl: CountryRepository {
    override suspend fun getAllCountries(): ApiResponse {
        println(countryList.size)
        return ApiResponse(
            success = true,
            message = OK_MESSAGE,
            countries = countryList
        )
    }

    override suspend fun searchCountriesContainingText(searchQuery: String?): ApiResponse {
        validateSearchQuery(searchQuery)
        return ApiResponse(
            success = true,
            message = OK_MESSAGE,
            countries = findCountriesContainingText(searchQuery!!)
        )
    }
    private fun validateSearchQuery(searchQuery: String?) {
        if (searchQuery.isNullOrBlank()) {
            throw IllegalArgumentException("Search query cannot be null or blank.")
        }
        if (!searchQuery.all { it.isLetter() }) {
            throw IllegalArgumentException("Search query must contain only letters.")
        }
    }

    private fun findCountriesContainingText(searchQuery: String): List<Country> {
        return countryList.filter { country ->
            country.name.contains(searchQuery, ignoreCase = true)
        }
    }

    override val countryList = listOf(
        Country("Afghanistan", 38928341, "/images/AF.png"),
        Country("Albania", 2877797, "/images/AL.png"),
        Country("Algeria", 43851044, "/images/DZ.png"),
        Country("Andorra", 77265, "/images/AD.png"),
        Country("Angola", 32866272, "/images/AO.png"),
        Country("Antigua and Barbuda", 97929, "/images/AG.png"),
        Country("Argentina", 45195777, "/images/AR.png"),
        Country("Armenia", 2963243, "/images/AM.png"),
        Country("Australia", 25687041, "/images/AU.png"),
        Country("Austria", 8917205, "/images/AT.png"),
        Country("Azerbaijan", 10139177, "/images/AZ.png"),
        Country("Bahamas", 393244, "/images/BS.png"),
        Country("Bahrain", 1701583, "/images/BH.png"),
        Country("Bangladesh", 164689383, "/images/BD.png"),
        Country("Barbados", 287371, "/images/BB.png"),
        Country("Belarus", 9449323, "/images/BY.png"),
        Country("Belgium", 11589623, "/images/BE.png"),
        Country("Belize", 397621, "/images/BZ.png"),
        Country("Benin", 12123198, "/images/BJ.png"),
        Country("Bhutan", 771612, "/images/BT.png"),
        Country("Bolivia", 11673029, "/images/BO.png"),
        Country("Bosnia and Herzegovina", 3280819, "/images/BA.png"),
        Country("Botswana", 2351625, "/images/BW.png"),
        Country("Brazil", 212559409, "/images/BR.png"),
        Country("Brunei", 437483, "/images/BN.png"),
        Country("Bulgaria", 6948445, "/images/BG.png"),
        Country("Burkina Faso", 20903273, "/images/BF.png"),
        Country("Burundi", 11890784, "/images/BI.png"),
        Country("Cabo Verde", 555987, "/images/CV.png"),
        Country("Cambodia", 16718965, "/images/KH.png"),
        Country("Cameroon", 26545863, "/images/CM.png"),
        Country("Canada", 38005238, "/images/CA.png"),
        Country("Central African Republic", 4829767, "/images/CF.png"),
        Country("Chad", 16425864, "/images/TD.png"),
        Country("Chile", 19116209, "/images/CL.png"),
        Country("China", 1444216107, "/images/CN.png"),
        Country("Colombia", 50882891, "/images/CO.png"),
        Country("Comoros", 869601, "/images/KM.png"),
        Country("Congo (Congo-Brazzaville)", 5518087, "/images/CG.png"),
        Country("Costa Rica", 5094118, "/images/CR.png"),
        Country("Croatia", 4105267, "/images/HR.png"),
        Country("Cuba", 11326616, "/images/CU.png"),
        Country("Cyprus", 1207359, "/images/CY.png"),
        Country("Czechia (Czech Republic)", 10708981, "/images/CZ.png"),
        Country("Democratic Republic of the Congo", 89561403, "/images/CD.png"),
        Country("Denmark", 5818553, "/images/DK.png"),
        Country("Djibouti", 988000, "/images/DJ.png"),
        Country("Dominica", 71986, "/images/DM.png"),
        Country("Dominican Republic", 10847910, "/images/DO.png"),
        Country("Ecuador", 17643060, "/images/EC.png"),
        Country("Egypt", 102334404, "/images/EG.png"),
        Country("El Salvador", 6486201, "/images/SV.png"),
        Country("Equatorial Guinea", 1402985, "/images/GQ.png"),
        Country("Eritrea", 3546421, "/images/ER.png"),
        Country("Estonia", 1326535, "/images/EE.png"),
        Country("Eswatini", 1160164, "/images/SZ.png"),
        Country("Ethiopia", 114963588, "/images/ET.png"),
        Country("Fiji", 896445, "/images/FJ.png"),
        Country("Finland", 5540720, "/images/FI.png"),
        Country("France", 65273511, "/images/FR.png"),
        Country("Gabon", 2225734, "/images/GA.png"),
        Country("Gambia", 2416668, "/images/GM.png"),
        Country("Georgia", 3989167, "/images/GE.png"),
        Country("Germany", 83783942, "/images/DE.png"),
        Country("Ghana", 31072940, "/images/GH.png"),
        Country("Greece", 10423054, "/images/GR.png"),
        Country("Grenada", 112519, "/images/GD.png"),
        Country("Guatemala", 17915568, "/images/GT.png"),
        Country("Guinea", 13132795, "/images/GN.png"),
        Country("Guinea-Bissau", 1968001, "/images/GW.png"),
        Country("Guyana", 786552, "/images/GY.png"),
        Country("Haiti", 11402528, "/images/HT.png"),
        Country("Honduras", 9904608, "/images/HN.png"),
        Country("Hungary", 9660351, "/images/HU.png"),
        Country("Iceland", 343599, "/images/IS.png"),
        Country("India", 1380004385, "/images/IN.png"),
        Country("Indonesia", 273523615, "/images/ID.png"),
        Country("Iran", 83992949, "/images/IR.png"),
        Country("Iraq", 40222493, "/images/IQ.png"),
        Country("Ireland", 4937786, "/images/IE.png"),
        Country("Israel", 8655535, "/images/IL.png"),
        Country("Italy", 60367477, "/images/IT.png"),
        Country("Jamaica", 2961167, "/images/JM.png"),
        Country("Japan", 126476461, "/images/JP.png"),
        Country("Jordan", 10203134, "/images/JO.png"),
        Country("Kazakhstan", 18776707, "/images/KZ.png"),
        Country("Kenya", 53771296, "/images/KE.png"),
        Country("Kiribati", 119449, "/images/KI.png"),
        Country("Kuwait", 4270571, "/images/KW.png"),
        Country("Kyrgyzstan", 6524195, "/images/KG.png"),
        Country("Laos", 7275560, "/images/LA.png"),
        Country("Latvia", 1886198, "/images/LV.png"),
        Country("Lebanon", 6825445, "/images/LB.png"),
        Country("Lesotho", 2142249, "/images/LS.png"),
        Country("Liberia", 5057681, "/images/LR.png"),
        Country("Libya", 6871292, "/images/LY.png"),
        Country("Liechtenstein", 38128, "/images/LI.png"),
        Country("Lithuania", 2722289, "/images/LT.png"),
        Country("Luxembourg", 634814, "/images/LU.png"),
        Country("Madagascar", 27691018, "/images/MG.png"),
        Country("Malawi", 19129952, "/images/MW.png"),
        Country("Malaysia", 32365999, "/images/MY.png"),
        Country("Maldives", 540544, "/images/MV.png"),
        Country("Mali", 20250833, "/images/ML.png"),
        Country("Malta", 514564, "/images/MT.png"),
        Country("Marshall Islands", 59190, "/images/MH.png"),
        Country("Mauritania", 4649658, "/images/MR.png"),
        Country("Mauritius", 1271768, "/images/MU.png"),
        Country("Mexico", 128932753, "/images/MX.png"),
        Country("Micronesia", 548914, "/images/FM.png"),
        Country("Moldova", 2657637, "/images/MD.png"),
        Country("Monaco", 39242, "/images/MC.png"),
        Country("Mongolia", 3278290, "/images/MN.png"),
        Country("Montenegro", 622359, "/images/ME.png"),
        Country("Morocco", 36910560, "/images/MA.png"),
        Country("Mozambique", 31255435, "/images/MZ.png"),
        Country("Myanmar", 54409800, "/images/MM.png"),
        Country("Namibia", 2540905, "/images/NA.png"),
        Country("Nauru", 10834, "/images/NR.png"),
        Country("Nepal", 29136808, "/images/NP.png"),
        Country("Netherlands", 17134872, "/images/NL.png"),
        Country("New Zealand", 4822233, "/images/NZ.png"),
        Country("Nicaragua", 6624554, "/images/NI.png"),
        Country("Niger", 24206644, "/images/NE.png"),
        Country("Nigeria", 206139589, "/images/NG.png"),
        Country("North Korea", 25778816, "/images/KP.png"),
        Country("North Macedonia", 2083459, "/images/MK.png"),
        Country("Norway", 5421241, "/images/NO.png"),
        Country("Oman", 5106626, "/images/OM.png"),
        Country("Pakistan", 220892331, "/images/PK.png"),
        Country("Palau", 18094, "/images/PW.png"),
        Country("Palestine State", 5101414, "/images/PS.png"),
        Country("Panama", 4314767, "/images/PA.png"),
        Country("Papua New Guinea", 8947024, "/images/PG.png"),
        Country("Paraguay", 7132530, "/images/PY.png"),
        Country("Peru", 32971854, "/images/PE.png"),
        Country("Philippines", 109581078, "/images/PH.png"),
        Country("Poland", 38386000, "/images/PL.png"),
        Country("Portugal", 10196709, "/images/PT.png"),
        Country("Qatar", 2881053, "/images/QA.png"),
        Country("Romania", 19237691, "/images/RO.png"),
        Country("Russia", 145912025, "/images/RU.png"),
        Country("Rwanda", 12952218, "/images/RW.png"),
        Country("Saint Kitts & Nevis", 53192, "/images/KN.png"),
        Country("Saint Lucia", 183627, "/images/LC.png"),
        Country("Saint Vincent & Grenadines", 110940, "/images/VC.png"),
        Country("Samoa", 198414, "/images/WS.png"),
        Country("San Marino", 33931, "/images/SM.png"),
        Country("Sao Tome & Principe", 219159, "/images/ST.png"),
        Country("Saudi Arabia", 34813871, "/images/SA.png"),
        Country("Senegal", 16743927, "/images/SN.png"),
        Country("Serbia", 8737371, "/images/RS.png"),
        Country("Seychelles", 98347, "/images/SC.png"),
        Country("Sierra Leone", 7976983, "/images/SL.png"),
        Country("Singapore", 5850342, "/images/SG.png"),
        Country("Slovakia", 5456362, "/images/SK.png"),
        Country("Slovenia", 2078654, "/images/SI.png"),
        Country("Solomon Islands", 686878, "/images/SB.png"),
        Country("Somalia", 15893222, "/images/SO.png"),
        Country("South Africa", 59308690, "/images/ZA.png"),
        Country("South Korea", 51269185, "/images/KR.png"),
        Country("South Sudan", 11193725, "/images/SS.png"),
        Country("Spain", 46754783, "/images/ES.png"),
        Country("Sri Lanka", 21413249, "/images/LK.png"),
        Country("Sudan", 43849260, "/images/SD.png"),
        Country("Suriname", 586632, "/images/SR.png"),
        Country("Sweden", 10099265, "/images/SE.png"),
        Country("Switzerland", 8654622, "/images/CH.png"),
        Country("Syria", 17500658, "/images/SY.png"),
        Country("Tajikistan", 9537645, "/images/TJ.png"),
        Country("Tanzania", 59734218, "/images/TZ.png"),
        Country("Thailand", 69799978, "/images/TH.png"),
        Country("Timor-Leste", 1318445, "/images/TL.png"),
        Country("Togo", 8278724, "/images/TG.png"),
        Country("Tonga", 105695, "/images/TO.png"),
        Country("Trinidad and Tobago", 1399488, "/images/TT.png"),
        Country("Tunisia", 11818619, "/images/TN.png"),
        Country("Turkey", 84339067, "/images/TR.png"),
        Country("Turkmenistan", 6031200, "/images/TM.png"),
        Country("Tuvalu", 11792, "/images/TV.png"),
        Country("Uganda", 45741007, "/images/UG.png"),
        Country("Ukraine", 43733762, "/images/UA.png"),
        Country("United Arab Emirates", 9890402, "/images/AE.png"),
        Country("United Kingdom", 67886011, "/images/GB.png"),
        Country("United States", 331002651, "/images/US.png"),
        Country("Uruguay", 3473730, "/images/UY.png"),
        Country("Uzbekistan", 33469203, "/images/UZ.png"),
        Country("Vanuatu", 307145, "/images/VU.png"),
        Country("Vatican City", 809, "/images/VA.png"),
        Country("Venezuela", 28435940, "/images/VE.png"),
        Country("Vietnam", 97338579, "/images/VN.png"),
        Country("Yemen", 29825964, "/images/YE.png"),
        Country("Zambia", 18383955, "/images/ZM.png"),
        Country("Zimbabwe", 14862924, "/images/ZW.png")
    )


}